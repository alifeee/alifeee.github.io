<!DOCTYPE html>
<html>
<head>
<title>Diplomacy</title>
<meta charset="utf-8"/>
<link rel="stylesheet" href="../auxiliary/stylesheet.css">
<style>
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}
th, td {
  padding: 5px;
  text-align: left;
  white-space:nowrap;
}
.graphTable{
  border:none;
}
body{
  max-width:1000px;
  width:1000px
}
</style>
</head>



<body>
<h1><a href="../">alifeee<a></h1>
<h2>Diplomacy Results</h2>

<div>
<table id="results" style="margin-left:auto;margin-right:auto;">
</table>
</div>
<br>

<table class="graphTable" width="100%">
<tr class="graphTable"><td class="graphTable" width="50%"><div style="width:100%">
<canvas id="myChart" width="5" height="190"></canvas>
</div></td>

<td class="graphTable" width="50%"><div style="width:100%">
<canvas id="alexChart" width="5" height="190"></canvas>
</div></td></tr>
</table>
</body>



<script src="https://alifeee.github.io/Chart.js"></script>
<script src="diplo_scripts.js"></script>
<script>
var lgreen = "#548235";
var red = "#ffc1c1";
var yellow = "#ffe699";
var green = "#c6e0b4";
var scores = {};
var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function () {
if (this.readyState == 4 && this.status == 200) {

var games = JSON.parse(this.responseText);

players =     create_players(games);
scores =      create_performance(players);
alex_scores = create_alex_performance(games, players);

var tab = "";
  tab += table_headers(players);
  tab += table_data(games, players);
  tab += table_performance(players, scores);
  tab += table_alex_performance(players, alex_scores);
  var table = document.getElementById("results");
  table.innerHTML = tab;



var labs = [];
var dats = [];
for (player in scores) {
  labs.push(player);
  dats.push(scores[player]);
}
var ctx = document.getElementById('myChart').getContext('2d');
Chart.defaults.global.defaultFontColor = '#888';
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: labs,
        datasets: [{
            label: 'Performance',
            data: dats,
            borderWidth: 1,
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)'
        }]
    },
    options: {
        responsiveness: true,
        maintainAspectRatio: false,
        legend: {
          display:false
        },
        scales: {
            yAxes: [{
              scaleLabel: {
                beginAtZero: true,
                display:true,
                labelString: 'Performance'
              }
            }]
        }
    }
});

var alex_dats = [];
for (player in alex_scores) {
  alex_dats.push(alex_scores[player].toFixed(2));
}
var alex_ctx = document.getElementById('alexChart').getContext('2d');
var alex_myChart = new Chart(alex_ctx, {
    type: 'bar',
    data: {
        labels: labs,
        datasets: [{
            label: 'Alex\'s Performance',
            data: alex_dats,
            borderWidth: 1,
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)'
        }]
    },
    options: {
        responsiveness: true,
        maintainAspectRatio: false,
        legend: {
          display:false
        },
        scales: {
            yAxes: [{
              scaleLabel: {
                beginAtZero: true,
                display:true,
                labelString: 'Alex\'s Performance'
              }
            }]
        }
    }
});


  }
};
xmlhttp.open("GET", "https://alifeee.github.io/diplomacy/results.json", true);
xmlhttp.send()
</script>
</body>
</html> 













